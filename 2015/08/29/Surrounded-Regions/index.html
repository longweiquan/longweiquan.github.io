<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> LeetCode - Surrounded Regions · Dragon Egg</title><meta name="description" content="LeetCode - Surrounded Regions - Weiquan LONG"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://longweiquan.github.com/atom.xml" title="Dragon Egg"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/longweiquan" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">LeetCode - Surrounded Regions</h1><div class="post-info">Aug 29, 2015</div><div class="post-content"><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><blockquote><p>Given a 2D board containing ‘X’ and ‘O’, capture all regions surrounded by ‘X’.</p>
<p>A region is captured by flipping all ‘O’s into ‘X’s in that surrounded region.</p>
<footer><strong>@LeetCode</strong><cite><a href="https://leetcode.com/problems/surrounded-regions/" target="_blank" rel="external">leetcode.com/problems/surrounded-regions</a></cite></footer></blockquote>
<h2 id="Analyse"><a href="#Analyse" class="headerlink" title="Analyse"></a>Analyse</h2><p>Only the regions on the border can be retained. So we can flip the border ‘O’ by ‘#’, then flip all ‘O’ by ‘X’, then 
flip all ‘#’ by ‘O’. The difficulty is how to flip the border ‘O’ region. DFS can resolve the problem, but will encounter 
“Stack Overflow” problem when the data grid is large. BFS can avoid this problem, so it’s a good way to solve the
problem.</p>
<h2 id="Solution-in-Java"><a href="#Solution-in-Java" class="headerlink" title="Solution in Java"></a>Solution in Java</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span>(<span class="params"><span class="keyword">char</span>[][] board</span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(board == <span class="literal">null</span> || board.length == <span class="number">0</span>)&#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> m = board.length;</div><div class="line">    <span class="keyword">int</span> n = board[<span class="number">0</span>].length;</div><div class="line"></div><div class="line">    <span class="comment">// flag from boarder cases</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;m;i++)&#123;</div><div class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j&lt;n;j++)&#123;</div><div class="line">           <span class="keyword">if</span>((i==<span class="number">0</span>||j==<span class="number">0</span>||i==m<span class="number">-1</span>||j==n<span class="number">-1</span>) &amp;&amp; board[i][j] == <span class="string">'O'</span>)&#123;</div><div class="line">               bfsFlag(board, i, j);</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// replace symbols</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;m; i++)&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j&lt;n; j++)&#123;</div><div class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">'O'</span>)&#123;</div><div class="line">                board[i][j] = <span class="string">'X'</span>;</div><div class="line">            &#125; <span class="function"><span class="keyword">else</span> <span class="title">if</span>(<span class="params">board[i][j] == <span class="string">'#'</span></span>)</span>&#123;</div><div class="line">                board[i][j] = <span class="string">'O'</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bfsFlag</span>(<span class="params"><span class="keyword">char</span>[][] board, <span class="keyword">int</span> nodeX, <span class="keyword">int</span> nodeY</span>)</span>&#123;</div><div class="line"></div><div class="line">    LinkedList&lt;<span class="keyword">int</span>[]&gt; nodes = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    nodes.<span class="keyword">add</span>(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nodeX, nodeY&#125;);</div><div class="line"></div><div class="line">    <span class="keyword">while</span> (!nodes.isEmpty())&#123;</div><div class="line"></div><div class="line">        <span class="keyword">int</span>[] node = nodes.removeFirst();</div><div class="line">        <span class="keyword">int</span> x = node[<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> y = node[<span class="number">1</span>];</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(x &lt; <span class="number">0</span> || x &gt;= board.length || y&lt;<span class="number">0</span> || y &gt;= board[<span class="number">0</span>].length || board[x][y] != <span class="string">'O'</span>)&#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        board[x][y] = <span class="string">'#'</span>;</div><div class="line">        nodes.<span class="keyword">add</span>(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x<span class="number">-1</span>, y&#125;);</div><div class="line">        nodes.<span class="keyword">add</span>(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x+<span class="number">1</span>, y&#125;);</div><div class="line">        nodes.<span class="keyword">add</span>(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x, y<span class="number">-1</span>&#125;);</div><div class="line">        nodes.<span class="keyword">add</span>(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x, y+<span class="number">1</span>&#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div></article></div></section><footer><div class="paginator"><a href="/2015/08/30/Trie/" class="prev">PREV</a><a href="/2015/08/28/Word-Ladder-II/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'longweiquan';
var disqus_identifier = '2015/08/29/Surrounded-Regions/';
var disqus_title = 'LeetCode - Surrounded Regions';
var disqus_url = 'http://longweiquan.github.com/2015/08/29/Surrounded-Regions/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//longweiquan.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2016 <a href="http://longweiquan.github.com">Weiquan LONG</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-63462717-1",'auto');ga('send','pageview');</script></body></html>